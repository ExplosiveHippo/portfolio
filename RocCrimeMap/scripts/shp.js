function shp(e){return shp.getShapefile(e)}(function(attachTo,global){"use strict";function canUseNextTick(){return typeof process==="object"&&Object.prototype.toString.call(process)==="[object process]"}function canUseMessageChannel(){return!!global.MessageChannel}function canUsePostMessage(){if(!global.postMessage||global.importScripts){return false}var e=true;var t=global.onmessage;global.onmessage=function(){e=false};global.postMessage("","*");global.onmessage=t;return e}function canUseReadyStateChange(){return"document"in global&&"onreadystatechange"in global.document.createElement("script")}function installNextTickImplementation(e){e.setImmediate=function(){var e=tasks.addFromSetImmediateArguments(arguments);process.nextTick(function(){tasks.runIfPresent(e)});return e}}function installMessageChannelImplementation(e){var t=new global.MessageChannel;t.port1.onmessage=function(e){var t=e.data;tasks.runIfPresent(t)};e.setImmediate=function(){var e=tasks.addFromSetImmediateArguments(arguments);t.port2.postMessage(e);return e}}function installPostMessageImplementation(e){function n(e,t){return typeof e==="string"&&e.substring(0,t.length)===t}function r(e){if(e.source===global&&n(e.data,t)){var r=e.data.substring(t.length);tasks.runIfPresent(r)}}var t="com.bn.NobleJS.setImmediate"+Math.random();if(global.addEventListener){global.addEventListener("message",r,false)}else{global.attachEvent("onmessage",r)}e.setImmediate=function(){var e=tasks.addFromSetImmediateArguments(arguments);global.postMessage(t+e,"*");return e}}function installReadyStateChangeImplementation(e){e.setImmediate=function(){var e=tasks.addFromSetImmediateArguments(arguments);var t=global.document.createElement("script");t.onreadystatechange=function(){tasks.runIfPresent(e);t.onreadystatechange=null;t.parentNode.removeChild(t);t=null};global.document.documentElement.appendChild(t);return e}}function installSetTimeoutImplementation(e){e.setImmediate=function(){var e=tasks.addFromSetImmediateArguments(arguments);global.setTimeout(function(){tasks.runIfPresent(e)},0);return e}}var tasks=function(){function Task(e,t){this.handler=e;this.args=t}Task.prototype.run=function(){if(typeof this.handler==="function"){this.handler.apply(undefined,this.args)}else{var scriptSource=""+this.handler;eval(scriptSource)}};var nextHandle=1;var tasksByHandle={};var currentlyRunningATask=false;return{addFromSetImmediateArguments:function(e){var t=e[0];var n=Array.prototype.slice.call(e,1);var r=new Task(t,n);var i=nextHandle++;tasksByHandle[i]=r;return i},runIfPresent:function(e){if(!currentlyRunningATask){var t=tasksByHandle[e];if(t){currentlyRunningATask=true;try{t.run()}finally{delete tasksByHandle[e];currentlyRunningATask=false}}}else{global.setTimeout(function(){tasks.runIfPresent(e)},0)}},remove:function(e){delete tasksByHandle[e]}}}();if(canUseNextTick()){installNextTickImplementation(attachTo)}else if(canUsePostMessage()){installPostMessageImplementation(attachTo)}else if(canUseMessageChannel()){installMessageChannelImplementation(attachTo)}else if(canUseReadyStateChange()){installReadyStateChangeImplementation(attachTo)}else{installSetTimeoutImplementation(attachTo)}attachTo.clearImmediate=tasks.remove})(shp,typeof global==="object"&&global?global:this);(function(e){function n(){var e=function(o,u,a){var f;if(o!==e){f=n();e.c.push({d:f,resolve:o,reject:u});return f.promise}var l=u?"resolve":"reject",c,h,p;for(var d=0,v=e.c.length;d<v;d++){c=e.c[d];h=c.d;p=c[l];if(typeof p!==t){h[l](a)}else{i(p,a,h)}}e=r(s,a,u)},s={then:function(t,n){return e(t,n)}};e.c=[];return{promise:s,resolve:function(t){e.c&&e(e,true,t)},reject:function(t){e.c&&e(e,false,t)}}}function r(e,r,s){return function(o,u){var a=s?o:u,f;if(typeof a!==t){return e}i(a,r,f=n());return f.promise}}function i(n,r,i){e.setImmediate(function(){var e;try{e=n(r);if(e&&typeof e.then===t){e.then(i.resolve,i.reject)}else{i.resolve(e)}}catch(s){i.reject(s)}})}var t="function";e.resolve=function(e){var t={};t.then=r(t,e,true);return t};e.reject=function(e){var t={};t.then=r(t,e,false);return t};e.deferred=n;e.all=function(t){var n=e.deferred();var r=t.length;var i=0;var s=new Array(r);var o=function(e){return function(t){s[e]=t;i++;if(i===r){n.resolve(s)}}};t.forEach(function(e,t){e.then(o(t),function(e){n.reject(e)})});return n.promise}})(shp);(function(e){function t(e,n){n=n||{};var r={"Lambert Tangential Conformal Conic Projection":"lcc",Lambert_Conformal_Conic:"lcc",Mercator:"merc","Popular Visualisation Pseudo Mercator":"merc",Mercator_1SP:"merc",Transverse_Mercator:"tmerc","Transverse Mercator":"tmerc","Lambert Azimuthal Equal Area":"laea","Universal Transverse Mercator System":"utm"};var i=e.match(/^(\w+)\[(.*)\]$/);if(!i){return}var s=i[1];var o=i[2];var u=o.split(",");var a;if(s.toUpperCase()=="TOWGS84"){a=s}else{a=u.shift()}a=a.replace(/^\"/,"");a=a.replace(/\"$/,"");var f=[];var l=0;var c="";var h;for(var p=0,d=u.length;p<d;++p){h=u[p];for(var v=0;v<h.length;++v){if(h.charAt(v)=="["){++l}if(h.charAt(v)=="]"){--l}}c+=h;if(l===0){f.push(c);c=""}else{c+=","}}switch(s){case"LOCAL_CS":n.projName="identity";n.localCS=true;n.srsCode=a;break;case"GEOGCS":n.projName="longlat";n.geocsCode=a;if(!n.srsCode){n.srsCode=a}break;case"PROJCS":n.srsCode=a;break;case"GEOCCS":break;case"PROJECTION":n.projName=r[a];break;case"DATUM":n.datumName=a;break;case"LOCAL_DATUM":n.datumCode="none";break;case"SPHEROID":n.ellps=a;n.a=parseFloat(f.shift());n.rf=parseFloat(f.shift());break;case"PRIMEM":n.from_greenwich=parseFloat(f.shift());break;case"UNIT":n.unitName=a;n.unit=parseFloat(f.shift());break;case"PARAMETER":var m=a.toLowerCase();var g=parseFloat(f.shift());switch(m){case"false_easting":n.x0=g;break;case"false_northing":n.y0=g;break;case"scale_factor":n.k0=g;break;case"central_meridian":n.long0=g;break;case"latitude_of_origin":n.lat0=g;break;case"standard_parallel_1":n.sp1=g;break;case"standard_parallel_2":n.sp2=g;break;default:break}break;case"TOWGS84":n.datum_params=f;break;case"AXIS":var y=a.toLowerCase();var b=f.shift();switch(g){case"EAST":b="e";break;case"WEST":b="w";break;case"NORTH":b="n";break;case"SOUTH":b="s";break;case"UP":b="u";break;case"DOWN":b="d";break;default:b=" ";break}if(!n.axis){n.axis="enu"}switch(y){case"x":n.axis=b+n.axis.substr(1,2);break;case"y":n.axis=n.axis.substr(0,1)+b+n.axis.substr(2,1);break;case"z":n.axis=n.axis.substr(0,2)+b;break;default:break}break;case"MORE_HERE":break;default:break}for(var w=0,E=f.length;w<E;++w){t(f[w],n)}return n}function n(e){e=e||{};var t=(e.a||6378137)/(e.unit||.3048006096012192);var n=e.rf||298.257222101;var r=(e.sp1||34.33333333333334)*(Math.PI/180);var i=(e.sp2||36.16666666666666)*(Math.PI/180);var s=(e.lat0||33.75)*(Math.PI/180);var o=(e.long0||-79)*(Math.PI/180);var u=e.x0||2000000.002616666;var a=e.y0||0;var f=function(e,t){var n=Math.sin(e);return Math.cos(e)/Math.sqrt(1-t*n*n)};var l=function(e,t){var n=t*Math.sin(e);return Math.tan(Math.PI/4-e/2)/Math.pow((1-n)/(1+n),t/2)};var c=function(e,t,n,r){return e*t*Math.pow(n,r)};var h=function(e,t,n){var r=t*Math.sin(n);return Math.PI/2-2*Math.atan(e*Math.pow((1-r)/(1+r),t/2))};var p=function(e,t,n){var r=0;var i=n;var s=h(e,t,i);while(Math.abs(s-i)>1e-9&&r++<10){i=s;s=h(e,t,i)}return s};var d=1/n;var v=2*d-d*d;var m=Math.sqrt(v);var g=f(r,v);var y=f(i,v);var b=l(s,m);var w=l(r,m);var E=l(i,m);var S=Math.log(g/y)/Math.log(w/E);var x=g/(S*Math.pow(w,S));var T=c(t,x,b,S);return function(e){var n=e[0];var r=e[1];var i=Math.atan((n-u)/(T-(r-a)));var s=(S>0?1:-1)*Math.sqrt((n-u)*(n-u)+(T-(r-a))*(T-(r-a)));var f=Math.pow(s/(t*x),1/S);var l=p(f,m,0);var c=i/S+o;return[c*(180/Math.PI),l*(180/Math.PI)]}}function r(e){function d(e,t,n,r,i){return t*((1-n/4-3*r/64-5*i/256)*e-(3*n/8+3*r/32+45*i/1024)*Math.sin(2*e)+(15*r/256+45*i/1024)*Math.sin(4*e)-35*i/3072*Math.sin(6*e))}var t=Math.PI/180;e=e||{};var n=(e.a||6378137)/(e.unit||.3048006096012192);var r=e.rf||298.257222101;var i=e.k0;var s=(e.lat0||33.75)*t;var o=(e.long0||-79)*t;var u=e.x0||2000000.002616666;var a=e.y0||0;var f=1/r;var l=2*f-f*f;var c=l*l;var h=c*l;var p=l/(1-l);var v=d(s,n,l,c,h);return function(e){var r=e[0];var s=e[1];var f=(1-Math.sqrt(1-l))/(1+Math.sqrt(1-l));var d=v+(s-a)/i;var m=d/(n*(1-l/4-3*c/64-5*h/256));var g=m+(3*f/2-27*Math.pow(f,3)/32)*Math.sin(2*m)+(21*f*f/16-55*Math.pow(f,4)/32)*Math.sin(4*m)+151*Math.pow(f,3)/6*Math.sin(6*m)+1097*Math.pow(f,4)/512*Math.sin(8*m);var y=p*Math.pow(Math.cos(g),2);var b=Math.pow(Math.tan(g),2);var w=n/Math.sqrt(1-l*Math.pow(Math.sin(g),2));var E=n*(1-l)/Math.pow(1-l*Math.pow(Math.sin(g),2),3/2);var S=(r-u)/(w*i);var x=g-w*Math.tan(g)/E*(S*S/2-(5+3*b+10*y-4*y*y-9*p)*Math.pow(S,4)/24+(61+90*b+28*y+45*b*b-252*p-3*y*y)*Math.pow(S,6)/720);var T=o+(S-(1+2*b+y)*Math.pow(S,3)/6+(5-2*y+28*b-3*y*y+8*p+24*b*b)*Math.pow(S,5)/120)/Math.cos(g);return[T/t,x/t]}}var i={};i.lcc=n;i.tmerc=r;e.proj=function(e){var n=t(e);var r=i[n.projName];if(r){return r(n)}}})(shp);(function(e){"use strict";function n(e){var t=0;var n=1;var r=e.length;var i,s;while(n<r){i=s||e[0];s=e[n];t+=(s[0]-i[0])*(s[1]+i[1]);n++}return t>0}function r(e,t){if(n(t)){e.push([t])}else{e[e.length-1].push(t)}return e}function i(e,t){return{type:"Point",coordinates:t(e,0)}}function s(e,t){var n=i(e,t);n.coordinates.push(t(e,16));return n}function o(e,t,n,r){var i=[];var s=0;while(s<n){i.push(r(e,t));t+=16;s++}return i}function u(e,t,n,r){var i=0;while(i<n){r[i].push(e.getFloat64(t,true));i++;t+=8}return r}function a(e,t,n,r,i,s){var u=[];var a=0;var f,l=0,c;while(a<r){a++;n+=4;f=l;if(a===r){l=i}else{l=e.getInt32(n,true)}c=l-f;if(!c){continue}u.push(o(e,t,c,s));t+=c<<4}return u}function f(e,t,n,r){var i=0;while(i<n){r[i]=u(e,t,r[i].length,r[i]);t+=r[i].length<<3;i++}return r}function l(e,t){var n={};n.bbox=[e.getFloat64(0,true),e.getFloat64(8,true),e.getFloat64(16,true),e.getFloat64(24,true)];var r=e.getInt32(32,true);var i=36;if(r===1){n.type="Point";n.coordinates=t(e,i)}else{n.type="MultiPoint";n.coordinates=o(e,i,r,t)}return n}function c(e,t){var n=l(e,t);var r;if(n.type==="Point"){n.coordinates.push(e.getFloat64(72,true));return n}else{r=n.coordinates.length}var i=56+(r<<4);n.coordinates=u(e,i,r,n.coordinates);return n}function h(e,t){var n={};n.bbox=[e.getFloat64(0,true),e.getFloat64(8,true),e.getFloat64(16,true),e.getFloat64(24,true)];var r=e.getInt32(32,true);var i=e.getInt32(36,true);var s,u;if(r===1){n.type="LineString";s=44;n.coordinates=o(e,s,i,t)}else{n.type="MultiLineString";s=40+(r<<2);u=40;n.coordinates=a(e,s,u,r,i,t)}return n}function p(e,t){var n=h(e,t);var r=n.coordinates.length;var i=60+(r<<4);if(n.type==="LineString"){n.coordinates=u(e,i,r,n.coordinates);return n}else{n.coordinates=f(e,i,r,n.coordinates);return n}}function d(e){if(e.type==="LineString"){e.type="Polygon";e.coordinates=[e.coordinates];return e}else{e.coordinates=e.coordinates.reduce(r,[]);if(e.coordinates.length===1){e.type="Polygon";e.coordinates=e.coordinates[0];return e}else{e.type="MultiPolygon";return e}}}function v(e,t){return d(h(e,t))}function m(e,t){return d(p(e,t))}function y(e,t){if(e>20){e-=20}if(!(e in g)){console.log("I don't know that shp type");return function(){return function(){}}}var n=g[e];var r=E(t);return function(e){return n(e,r)}}function E(e){if(e){return function(t,n){return e([t.getFloat64(n,true),t.getFloat64(n+8,true)])}}else{return function(e,t){return[e.getFloat64(t,true),e.getFloat64(t+8,true)]}}}function S(e){var t=new DataView(e);var n={};n.lastUpdated=new Date(t.getUint8(1,true)+1900,t.getUint8(2,true),t.getUint8(3,true));n.records=t.getUint32(4,true);n.headerLen=t.getUint16(8,true);n.recLen=t.getUint16(10,true);return n}function x(e){var t=new DataView(e);var n=[];var r=32;while(true){n.push({name:String.fromCharCode.apply(this,new Uint8Array(e,r,10)).replace(/\0|\s+$/g,""),dataType:String.fromCharCode(t.getUint8(r+11)),len:t.getUint8(r+16),decimal:t.getUint8(r+17)});if(t.getUint8(r+32)===13){break}else{r+=32}}return n}function N(e,t,n){var r={};var i=0;var s=n.length;var o;var u;while(i<s){u=n[i];o=T(e,t,u.len,u.dataType);t+=u.len;if(typeof o!=="undefined"){r[u.name]=o}i++}return r}function C(e){return shp.binaryAjax(e).then(shp.parseZip)}shp.binaryAjax=function(e){function r(e){if(n.readyState===4&&n.status===200){t.resolve(n.response)}}var t=shp.deferred();var n=new XMLHttpRequest;n.onreadystatechange=r;n.open("GET",e,true);n.responseType="arraybuffer";n.send();return t.promise};var t=function(e){var t=new DataView(e,0,100);return{length:t.getInt32(6<<2,false),version:t.getInt32(7<<2,true),shpCode:t.getInt32(8<<2,true),bbox:[t.getFloat64(9<<2,true),t.getFloat64(11<<2,true),t.getFloat64(13<<2,true),t.getFloat64(13<<2,true)]}};var g={1:i,3:h,5:v,8:l,11:s,13:p,15:m,18:c};var b=function(e,t){var n=new DataView(e,t,12);var r=n.getInt32(4,false)<<1;var i=new DataView(e,t+12,r-4);return{id:n.getInt32(0,false),len:r,data:i,type:n.getInt32(8,true)}};var w=function(e,t,n){var r=100;var i=e.byteLength;var s=[];var o;while(r<i){o=b(e,r);r+=8;r+=o.len;if(o.type){s.push(t(o.data,n))}}return s};shp.parseShp=function(e,n){var r=t(e);return w(e,y(r.shpCode,n))};var T=function(e,t,n,r){var i=new Uint8Array(e,t,n);var s=String.fromCharCode.apply(this,i).replace(/\0|\s+$/g,"");if(r==="N"){return parseFloat(s,10)}else if(r==="D"){return new Date(s.slice(0,4),parseInt(s.slice(4,6),10)-1,s.slice(6,8))}else{return s}};shp.parseDbf=function(e){var t=x(e);var n=S(e);var r=(t.length+1<<5)+2;var i=n.recLen;var s=n.records;var o=new DataView(e);var u=[];while(s){u.push(N(e,r,t));r+=i;s--}return u};shp.combine=function(e){var t={};t.type="FeatureCollection";t.features=[];var n=0;var r=e[0].length;while(n<r){t.features.push({type:"Feature",geometry:e[0][n],properties:e[1][n]});n++}return t};shp.parseZip=function(e){var t;var n=shp.unzip(e);var r=[];for(t in n){if(t.slice(-3).toLowerCase()==="shp"){r.push(t.slice(0,-4))}else if(t.slice(-3).toLowerCase()==="dbf"){n[t]=shp.parseDbf(n[t])}else if(t.slice(-3).toLowerCase()==="prj"){n[t]=shp.proj(String.fromCharCode.apply(this,new Uint8Array(n[t])))}else if(t.slice(-7).toLowerCase()==="geojson"){r.push(t)}}var i=r.map(function(e){var t;if(e.slice(-7).toLowerCase()==="geojson"){t=JSON.parse(n[e]);t.fileName=e.slice(0,-8)}else{t=shp.combine([shp.parseShp(n[e+".shp"],n[e+".prj"]),n[e+".dbf"]]);t.fileName=e}return t});if(i.length===1){return i[0]}else{return i}};shp.getShapefile=function(e){if(typeof e==="string"){if(e.slice(-4)===".zip"){return C(e)}else{return shp.all([shp.binaryAjax(e+".shp").then(shp.parseShp),shp.binaryAjax(e+".dbf").then(shp.parseDbf)]).then(shp.combine)}}else{return shp.resolve(shp.parseZip(e))}}})(shp);shp.unzip=function(e){var t=function(e,t){this.files={};this.root="";if(e){this.load(e,t)}};t.signature={LOCAL_FILE_HEADER:"PK",CENTRAL_FILE_HEADER:"PK",CENTRAL_DIRECTORY_END:"PK",ZIP64_CENTRAL_DIRECTORY_LOCATOR:"PK",ZIP64_CENTRAL_DIRECTORY_END:"PK",DATA_DESCRIPTOR:"PK\b"};t.defaults={base64:false,binary:false,dir:false,date:null,compression:null};t.prototype=function(){var e=function(e,t,n){this.name=e;this.data=t;this.options=n};e.prototype={asText:function(){var e=this.data;if(e===null||typeof e==="undefined"){return""}if(this.options.base64){e=n.decode(e)}if(this.options.binary){e=t.prototype.utf8decode(e)}return e},asBinary:function(){var e=this.data;if(e===null||typeof e==="undefined"){return""}if(this.options.base64){e=n.decode(e)}if(!this.options.binary){e=t.prototype.utf8encode(e)}return e},asUint8Array:function(){return t.utils.string2Uint8Array(this.asBinary())},asArrayBuffer:function(){return t.utils.string2Uint8Array(this.asBinary()).buffer}};var r=function(e,t){var n="",r;for(r=0;r<t;r++){n+=String.fromCharCode(e&255);e=e>>>8}return n};var i=function(){var e={},t,n;for(t=0;t<arguments.length;t++){for(n in arguments[t]){if(arguments[t].hasOwnProperty(n)&&typeof e[n]==="undefined"){e[n]=arguments[t][n]}}}return e};var s=function(e){e=e||{};if(e.base64===true&&e.binary==null){e.binary=true}e=i(e,t.defaults);e.date=e.date||new Date;if(e.compression!==null)e.compression=e.compression.toUpperCase();return e};var o=function(n,r,i){var o=u(n);if(o){a.call(this,o)}i=s(i);if(i.dir||r===null||typeof r==="undefined"){i.base64=false;i.binary=false;r=null}else if(t.support.uint8array&&r instanceof Uint8Array){i.base64=false;i.binary=true;r=t.utils.uint8Array2String(r)}else if(t.support.arraybuffer&&r instanceof ArrayBuffer){i.base64=false;i.binary=true;var f=new Uint8Array(r);r=t.utils.uint8Array2String(f)}else if(i.binary&&!i.base64){if(i.optimizedBinaryString!==true){r=t.utils.string2binary(r)}delete i.optimizedBinaryString}return this.files[n]=new e(n,r,i)};var u=function(e){if(e.slice(-1)=="/"){e=e.substring(0,e.length-1)}var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""};var a=function(e){if(e.slice(-1)!="/"){e+="/"}if(!this.files[e]){var t=u(e);if(t){a.call(this,t)}o.call(this,e,null,{dir:true})}return this.files[e]};var f=function(e,n,i){var s=n!==e.name,o=e.asBinary(),u=e.options,a,f;a=u.date.getHours();a=a<<6;a=a|u.date.getMinutes();a=a<<5;a=a|u.date.getSeconds()/2;f=u.date.getFullYear()-1980;f=f<<4;f=f|u.date.getMonth()+1;f=f<<5;f=f|u.date.getDate();var l=o!==null&&o.length!==0;i=u.compression||i;if(!t.compressions[i]){throw i+" is not a valid compression method !"}var c=t.compressions[i];var h=l?c.compress(o):"";var p="";p+="\n\0";p+=s?"\0\b":"\0\0";p+=l?c.magic:t.compressions["STORE"].magic;p+=r(a,2);p+=r(f,2);p+=l?r(this.crc32(o),4):"\0\0\0\0";p+=l?r(h.length,4):"\0\0\0\0";p+=l?r(o.length,4):"\0\0\0\0";p+=r(n.length,2);p+="\0\0";return{header:p,compressedData:h}};return{load:function(e,t){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(t){var n=[],r,s,o,u;for(r in this.files){if(!this.files.hasOwnProperty(r)){continue}o=this.files[r];u=new e(o.name,o.data,i(o.options));s=r.slice(this.root.length,r.length);if(r.slice(0,this.root.length)===this.root&&t(s,u)){n.push(u)}}return n},file:function(e,t,n){if(arguments.length===1){if(e instanceof RegExp){var r=e;return this.filter(function(e,t){return!t.options.dir&&r.test(e)})}else{return this.filter(function(t,n){return!n.options.dir&&t===e})[0]||null}}else{e=this.root+e;o.call(this,e,t,n)}return this},folder:function(e){if(!e){return this}if(e instanceof RegExp){return this.filter(function(t,n){return n.options.dir&&e.test(t)})}var t=this.root+e;var n=a.call(this,t);var r=this.clone();r.root=n.name;return r},remove:function(e){e=this.root+e;var t=this.files[e];if(!t){if(e.slice(-1)!="/"){e+="/"}t=this.files[e]}if(t){if(!t.options.dir){delete this.files[e]}else{var n=this.filter(function(t,n){return n.name.slice(0,e.length)===e});for(var r=0;r<n.length;r++){delete this.files[n[r].name]}}}return this},generate:function(e){e=i(e||{},{base64:true,compression:"STORE",type:"base64"});var s=e.compression.toUpperCase();if(!t.compressions[s]){throw s+" is not a valid compression method !"}var o=[],u=[],a=0;for(var l in this.files){if(!this.files.hasOwnProperty(l)){continue}var c=this.files[l];var h=this.utf8encode(c.name);var p="",d="",v=f.call(this,c,h,s);p=t.signature.LOCAL_FILE_HEADER+v.header+h+v.compressedData;d=t.signature.CENTRAL_FILE_HEADER+"\0"+v.header+"\0\0"+"\0\0"+"\0\0"+(this.files[l].options.dir===true?"\0\0\0":"\0\0\0\0")+r(a,4)+h;a+=p.length;u.push(p);o.push(d)}var m=u.join("");var g=o.join("");var y="";y=t.signature.CENTRAL_DIRECTORY_END+"\0\0"+"\0\0"+r(u.length,2)+r(u.length,2)+r(g.length,4)+r(m.length,4)+"\0\0";var b=m+g+y;switch(e.type.toLowerCase()){case"uint8array":return t.utils.string2Uint8Array(b);case"arraybuffer":return t.utils.string2Uint8Array(b).buffer;case"blob":return t.utils.string2Blob(b);case"base64":return e.base64?n.encode(b):b;default:return b}},crc32:function(e,t){if(e===""||typeof e==="undefined"){return 0}var n=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];if(typeof t=="undefined"){t=0}var r=0;var i=0;t=t^-1;for(var s=0,o=e.length;s<o;s++){i=(t^e.charCodeAt(s))&255;r=n[i];t=t>>>8^r}return t^-1},clone:function(){var e=new t;for(var n in this){if(typeof this[n]!=="function"){e[n]=this[n]}}return e},utf8encode:function(e){var t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<128){t+=String.fromCharCode(r)}else if(r>127&&r<2048){t+=String.fromCharCode(r>>6|192);t+=String.fromCharCode(r&63|128)}else{t+=String.fromCharCode(r>>12|224);t+=String.fromCharCode(r>>6&63|128);t+=String.fromCharCode(r&63|128)}}return t},utf8decode:function(e){var t="";var n=0;var r=0,i=0,s=0,o=0;while(n<e.length){r=e.charCodeAt(n);if(r<128){t+=String.fromCharCode(r);n++}else if(r>191&&r<224){s=e.charCodeAt(n+1);t+=String.fromCharCode((r&31)<<6|s&63);n+=2}else{s=e.charCodeAt(n+1);o=e.charCodeAt(n+2);t+=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63);n+=3}}return t}}}();t.compressions={STORE:{magic:"\0\0",compress:function(e){return e},uncompress:function(e){return e}}};t.support={arraybuffer:function(){return typeof ArrayBuffer!=="undefined"&&typeof Uint8Array!=="undefined"}(),uint8array:function(){return typeof Uint8Array!=="undefined"}(),blob:function(){if(typeof ArrayBuffer==="undefined"){return false}var e=new ArrayBuffer(0);try{return(new Blob([e],{type:"application/zip"})).size===0}catch(t){}try{var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);n.append(e);return n.getBlob("application/zip").size===0}catch(t){}return false}()};t.utils={string2binary:function(e){var t="";for(var n=0;n<e.length;n++){t+=String.fromCharCode(e.charCodeAt(n)&255)}return t},string2Uint8Array:function(e){if(!t.support.uint8array){throw new Error("Uint8Array is not supported by this browser")}var n=new ArrayBuffer(e.length);var r=new Uint8Array(n);for(var i=0;i<e.length;i++){r[i]=e.charCodeAt(i)}return r},uint8Array2String:function(e){if(!t.support.uint8array){throw new Error("Uint8Array is not supported by this browser")}var n="";for(var r=0;r<e.length;r++){n+=String.fromCharCode(e[r])}return n},string2Blob:function(e){if(!t.support.blob){throw new Error("Blob is not supported by this browser")}var n=t.utils.string2Uint8Array(e).buffer;try{return new Blob([n],{type:"application/zip"})}catch(r){}try{var i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);i.append(n);return i.getBlob("application/zip")}catch(r){}throw new Error("Bug : can't construct the Blob.")}};var n=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:function(t,n){var r="";var i,s,o,u,a,f,l;var c=0;while(c<t.length){i=t.charCodeAt(c++);s=t.charCodeAt(c++);o=t.charCodeAt(c++);u=i>>2;a=(i&3)<<4|s>>4;f=(s&15)<<2|o>>6;l=o&63;if(isNaN(s)){f=l=64}else if(isNaN(o)){l=64}r=r+e.charAt(u)+e.charAt(a)+e.charAt(f)+e.charAt(l)}return r},decode:function(t,n){var r="";var i,s,o;var u,a,f,l;var c=0;t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(c<t.length){u=e.indexOf(t.charAt(c++));a=e.indexOf(t.charAt(c++));f=e.indexOf(t.charAt(c++));l=e.indexOf(t.charAt(c++));i=u<<2|a>>4;s=(a&15)<<4|f>>2;o=(f&3)<<6|l;r=r+String.fromCharCode(i);if(f!=64){r=r+String.fromCharCode(s)}if(l!=64){r=r+String.fromCharCode(o)}}return r}}}();(function(){function o(e){this.stream="";if(t.support.uint8array&&e instanceof Uint8Array){this.stream=t.utils.uint8Array2String(e)}else if(t.support.arraybuffer&&e instanceof ArrayBuffer){var n=new Uint8Array(e);this.stream=t.utils.uint8Array2String(n)}else{this.stream=t.utils.string2binary(e)}this.index=0}function u(e,t){this.options=e;this.loadOptions=t}function a(e,t){this.files=[];this.loadOptions=t;if(e){this.load(e)}}var e=65535;var r=-1;var i=function(e){var t="",n,r;for(r=0;r<(e||"").length;r++){n=e.charCodeAt(r);t+="\\x"+(n<16?"0":"")+n.toString(16).toUpperCase()}return t};var s=function(e){for(var n in t.compressions){if(!t.compressions.hasOwnProperty(n)){continue}if(t.compressions[n].magic===e){return t.compressions[n]}}return null};o.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.stream.length<e||e<0){throw new Error("End of stream reached (stream length = "+this.stream.length+", asked index = "+e+"). Corrupted zip ?")}},setIndex:function(e){this.checkIndex(e);this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){return this.stream.charCodeAt(e)},readInt:function(e){var t=0,n;this.checkOffset(e);for(n=this.index+e-1;n>=this.index;n--){t=(t<<8)+this.byteAt(n)}this.index+=e;return t},readString:function(e){this.checkOffset(e);var t=this.stream.slice(this.index,this.index+e);this.index+=e;return t},readDate:function(){var e=this.readInt(4);return new Date((e>>25&127)+1980,(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(e&31)<<1)}};u.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(e){var n,r;e.skip(22);this.fileNameLength=e.readInt(2);r=e.readInt(2);this.fileName=e.readString(this.fileNameLength);e.skip(r);if(this.compressedSize==-1||this.uncompressedSize==-1){throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory "+"(compressedSize == -1 || uncompressedSize == -1)")}this.compressedFileData=e.readString(this.compressedSize);n=s(this.compressionMethod);if(n===null){throw new Error("Corrupted zip : compression "+i(this.compressionMethod)+" unknown (inner file : "+this.fileName+")")}this.uncompressedFileData=n.uncompress(this.compressedFileData);if(this.uncompressedFileData.length!==this.uncompressedSize){throw new Error("Bug : uncompressed data size mismatch")}if(this.loadOptions.checkCRC32&&t.prototype.crc32(this.uncompressedFileData)!==this.crc32){throw new Error("Corrupted zip : CRC32 mismatch")}},readCentralPart:function(e){this.versionMadeBy=e.readString(2);this.versionNeeded=e.readInt(2);this.bitFlag=e.readInt(2);this.compressionMethod=e.readString(2);this.date=e.readDate();this.crc32=e.readInt(4);this.compressedSize=e.readInt(4);this.uncompressedSize=e.readInt(4);this.fileNameLength=e.readInt(2);this.extraFieldsLength=e.readInt(2);this.fileCommentLength=e.readInt(2);this.diskNumberStart=e.readInt(2);this.internalFileAttributes=e.readInt(2);this.externalFileAttributes=e.readInt(4);this.localHeaderOffset=e.readInt(4);if(this.isEncrypted()){throw new Error("Encrypted zip are not supported")}this.fileName=e.readString(this.fileNameLength);this.readExtraFields(e);this.parseZIP64ExtraField(e);this.fileComment=e.readString(this.fileCommentLength);this.dir=this.externalFileAttributes&16?true:false},parseZIP64ExtraField:function(e){if(!this.extraFields[1]){return}var t=new o(this.extraFields[1].value);if(this.uncompressedSize===r){this.uncompressedSize=t.readInt(8)}if(this.compressedSize===r){this.compressedSize=t.readInt(8)}if(this.localHeaderOffset===r){this.localHeaderOffset=t.readInt(8)}if(this.diskNumberStart===r){this.diskNumberStart=t.readInt(4)}},readExtraFields:function(e){var t=e.index,n,r,i;this.extraFields=this.extraFields||{};while(e.index<t+this.extraFieldsLength){n=e.readInt(2);r=e.readInt(2);i=e.readString(r);this.extraFields[n]={id:n,length:r,value:i}}},handleUTF8:function(){if(this.useUTF8()){this.fileName=t.prototype.utf8decode(this.fileName);this.fileComment=t.prototype.utf8decode(this.fileComment)}}};a.prototype={checkSignature:function(e){var t=this.reader.readString(4);if(t!==e){throw new Error("Corrupted zip or bug : unexpected signature "+"("+i(t)+", expected "+i(e)+")")}},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2);this.diskWithCentralDirStart=this.reader.readInt(2);this.centralDirRecordsOnThisDisk=this.reader.readInt(2);this.centralDirRecords=this.reader.readInt(2);this.centralDirSize=this.reader.readInt(4);this.centralDirOffset=this.reader.readInt(4);this.zipCommentLength=this.reader.readInt(2);this.zipComment=this.reader.readString(this.zipCommentLength)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8);this.versionMadeBy=this.reader.readString(2);this.versionNeeded=this.reader.readInt(2);this.diskNumber=this.reader.readInt(4);this.diskWithCentralDirStart=this.reader.readInt(4);this.centralDirRecordsOnThisDisk=this.reader.readInt(8);this.centralDirRecords=this.reader.readInt(8);this.centralDirSize=this.reader.readInt(8);this.centralDirOffset=this.reader.readInt(8);this.zip64ExtensibleData={};var e=this.zip64EndOfCentralSize-44,t=0,n,r,i;while(t<e){n=this.reader.readInt(2);r=this.reader.readInt(4);i=this.reader.readString(r);this.zip64ExtensibleData[n]={id:n,length:r,value:i}}},readBlockZip64EndOfCentralLocator:function(){this.diskWithZip64CentralDirStart=this.reader.readInt(4);this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8);this.disksCount=this.reader.readInt(4);if(this.disksCount>1){throw new Error("Multi-volumes zip are not supported")}},readLocalFiles:function(){var e,n;for(e=0;e<this.files.length;e++){n=this.files[e];this.reader.setIndex(n.localHeaderOffset);this.checkSignature(t.signature.LOCAL_FILE_HEADER);n.readLocalPart(this.reader);n.handleUTF8()}},readCentralDir:function(){var e;this.reader.setIndex(this.centralDirOffset);while(this.reader.readString(4)===t.signature.CENTRAL_FILE_HEADER){e=new u({zip64:this.zip64},this.loadOptions);e.readCentralPart(this.reader);this.files.push(e)}},readEndOfCentral:function(){var n=this.reader.stream.lastIndexOf(t.signature.CENTRAL_DIRECTORY_END);if(n===-1){throw new Error("Corrupted zip : can't find end of central directory")}this.reader.setIndex(n);this.checkSignature(t.signature.CENTRAL_DIRECTORY_END);this.readBlockEndOfCentral();if(this.diskNumber===e||this.diskWithCentralDirStart===e||this.centralDirRecordsOnThisDisk===e||this.centralDirRecords===e||this.centralDirSize===r||this.centralDirOffset===r){this.zip64=true;n=this.reader.stream.lastIndexOf(t.signature.ZIP64_CENTRAL_DIRECTORY_LOCATOR);if(n===-1){throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator")}this.reader.setIndex(n);this.checkSignature(t.signature.ZIP64_CENTRAL_DIRECTORY_LOCATOR);this.readBlockZip64EndOfCentralLocator();this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir);this.checkSignature(t.signature.ZIP64_CENTRAL_DIRECTORY_END);this.readBlockZip64EndOfCentral()}},load:function(e){this.reader=new o(e);this.readEndOfCentral();this.readCentralDir();this.readLocalFiles()}};t.prototype.load=function(e,t){var r,i,s,o;t=t||{};if(t.base64){e=n.decode(e)}i=new a(e,t);r=i.files;for(s=0;s<r.length;s++){o=r[s];this.file(o.fileName,o.uncompressedFileData,{binary:true,optimizedBinaryString:true,date:o.date,dir:o.dir})}return this}})();if(!t){throw"JSZip not defined"}(function(){function P(){this.next=null;this.list=null}function H(){this.e=0;this.b=0;this.n=0;this.t=null}function B(e,t,n,r,i,s){this.BMAX=16;this.N_MAX=288;this.status=0;this.root=null;this.m=0;{var o;var u=new Array(this.BMAX+1);var a;var f;var l;var c;var h;var p;var d;var v=new Array(this.BMAX+1);var m;var g;var y;var b=new H;var w=new Array(this.BMAX);var E=new Array(this.N_MAX);var S;var x=new Array(this.BMAX+1);var T;var N;var C;var k;var L;L=this.root=null;for(h=0;h<u.length;h++)u[h]=0;for(h=0;h<v.length;h++)v[h]=0;for(h=0;h<w.length;h++)w[h]=null;for(h=0;h<E.length;h++)E[h]=0;for(h=0;h<x.length;h++)x[h]=0;a=t>256?e[256]:this.BMAX;m=e;g=0;h=t;do{u[m[g]]++;g++}while(--h>0);if(u[0]==t){this.root=null;this.m=0;this.status=0;return}for(p=1;p<=this.BMAX;p++)if(u[p]!=0)break;d=p;if(s<p)s=p;for(h=this.BMAX;h!=0;h--)if(u[h]!=0)break;l=h;if(s>h)s=h;for(N=1<<p;p<h;p++,N<<=1)if((N-=u[p])<0){this.status=2;this.m=s;return}if((N-=u[h])<0){this.status=2;this.m=s;return}u[h]+=N;x[1]=p=0;m=u;g=1;T=2;while(--h>0)x[T++]=p+=m[g++];m=e;g=0;h=0;do{if((p=m[g++])!=0)E[x[p]++]=h}while(++h<t);t=x[l];x[0]=h=0;m=E;g=0;c=-1;S=v[0]=0;y=null;C=0;for(;d<=l;d++){o=u[d];while(o-->0){while(d>S+v[1+c]){S+=v[1+c];c++;C=(C=l-S)>s?s:C;if((f=1<<(p=d-S))>o+1){f-=o+1;T=d;while(++p<C){if((f<<=1)<=u[++T])break;f-=u[T]}}if(S+p>a&&S<a)p=a-S;C=1<<p;v[1+c]=p;y=new Array(C);for(k=0;k<C;k++){y[k]=new H}if(L==null)L=this.root=new P;else L=L.next=new P;L.next=null;L.list=y;w[c]=y;if(c>0){x[c]=h;b.b=v[c];b.e=16+p;b.t=y;p=(h&(1<<S)-1)>>S-v[c];w[c-1][p].e=b.e;w[c-1][p].b=b.b;w[c-1][p].n=b.n;w[c-1][p].t=b.t}}b.b=d-S;if(g>=t)b.e=99;else if(m[g]<n){b.e=m[g]<256?16:15;b.n=m[g++]}else{b.e=i[m[g]-n];b.n=r[m[g++]-n]}f=1<<d-S;for(p=h>>S;p<C;p+=f){y[p].e=b.e;y[p].b=b.b;y[p].n=b.n;y[p].t=b.t}for(p=1<<d-1;(h&p)!=0;p>>=1)h^=p;h^=p;while((h&(1<<S)-1)!=x[c]){S-=v[c];c--}}}this.m=v[1];this.status=N!=0&&l!=1?1:0}}function j(){if(C.length==k)return-1;return C.charCodeAt(k++)&255}function F(e){while(g<e){m|=j()<<g;g+=8}}function I(e){return m&L[e]}function q(e){m>>=e;g-=e}function R(e,t,r){var i;var s;var o;if(r==0)return 0;o=0;for(;;){F(T);s=S.list[I(T)];i=s.e;while(i>16){if(i==99)return-1;q(s.b);i-=16;F(i);s=s.t[I(i)];i=s.e}q(s.b);if(i==16){c&=n-1;e[t+o++]=l[c++]=s.n;if(o==r)return r;continue}if(i==15)break;F(i);w=s.n+I(i);q(i);F(N);s=x.list[I(N)];i=s.e;while(i>16){if(i==99)return-1;q(s.b);i-=16;F(i);s=s.t[I(i)];i=s.e}q(s.b);F(i);E=c-s.n-I(i);q(i);while(w>0&&o<r){w--;E&=n-1;c&=n-1;e[t+o++]=l[c++]=l[E++]}if(o==r)return r}y=-1;return o}function U(e,t,r){var i;i=g&7;q(i);F(16);i=I(16);q(16);F(16);if(i!=(~m&65535))return-1;q(16);w=i;i=0;while(w>0&&i<r){w--;c&=n-1;F(8);e[t+i++]=l[c++]=I(8);q(8)}if(w==0)y=-1;return i}function z(t,n,r){if(h==null){var i;var s=new Array(288);var o;for(i=0;i<144;i++)s[i]=8;for(;i<256;i++)s[i]=9;for(;i<280;i++)s[i]=7;for(;i<288;i++)s[i]=8;d=7;o=new B(s,288,257,A,O,d);if(o.status!=0){alert("HufBuild error: "+o.status);return-1}h=o.root;d=o.m;for(i=0;i<30;i++)s[i]=5;e=5;o=new B(s,30,0,M,_,e);if(o.status>1){h=null;alert("HufBuild error: "+o.status);return-1}p=o.root;e=o.m}S=h;x=p;T=d;N=e;return R(t,n,r)}function W(e,t,n){var r;var i;var s;var a;var f;var l;var c;var h;var p=new Array(286+30);var d;for(r=0;r<p.length;r++)p[r]=0;F(5);c=257+I(5);q(5);F(5);h=1+I(5);q(5);F(4);l=4+I(4);q(4);if(c>286||h>30)return-1;for(i=0;i<l;i++){F(3);p[D[i]]=I(3);q(3)}for(;i<19;i++)p[D[i]]=0;T=7;d=new B(p,19,19,null,null,T);if(d.status!=0)return-1;S=d.root;T=d.m;a=c+h;r=s=0;while(r<a){F(T);f=S.list[I(T)];i=f.b;q(i);i=f.n;if(i<16)p[r++]=s=i;else if(i==16){F(2);i=3+I(2);q(2);if(r+i>a)return-1;while(i-->0)p[r++]=s}else if(i==17){F(3);i=3+I(3);q(3);if(r+i>a)return-1;while(i-->0)p[r++]=0;s=0}else{F(7);i=11+I(7);q(7);if(r+i>a)return-1;while(i-->0)p[r++]=0;s=0}}T=o;d=new B(p,c,257,A,O,T);if(T==0)d.status=1;if(d.status!=0){if(d.status==1);return-1}S=d.root;T=d.m;for(r=0;r<h;r++)p[r]=p[r+c];N=u;d=new B(p,h,0,M,_,N);x=d.root;N=d.m;if(N==0&&c>257){return-1}if(d.status==1){}if(d.status!=0)return-1;return R(e,t,n)}function X(){var e;if(l==null)l=new Array(2*n);c=0;m=0;g=0;y=-1;b=false;w=E=0;S=null}function V(e,t,i){var s,o;s=0;while(s<i){if(b&&y==-1)return s;if(w>0){if(y!=r){while(w>0&&s<i){w--;E&=n-1;c&=n-1;e[t+s++]=l[c++]=l[E++]}}else{while(w>0&&s<i){w--;c&=n-1;F(8);e[t+s++]=l[c++]=I(8);q(8)}if(w==0)y=-1}if(s==i)return s}if(y==-1){if(b)break;F(1);if(I(1)!=0)b=true;q(1);F(2);y=I(2);q(2);S=null;w=0}switch(y){case 0:o=U(e,t+s,i-s);break;case 1:if(S!=null)o=R(e,t+s,i-s);else o=z(e,t+s,i-s);break;case 2:if(S!=null)o=R(e,t+s,i-s);else o=W(e,t+s,i-s);break;default:o=-1;break}if(o==-1){if(b)return 0;return-1}s+=o}return s}function $(e){var t,n;var r,i;X();C=e;k=0;n=new Array(1024);t="";while((r=V(n,0,n.length))>0){for(i=0;i<r;i++)t+=String.fromCharCode(n[i])}C=null;return t}var e;var n=32768;var r=0;var i=1;var s=2;var o=9;var u=6;var a=32768;var f=64;var l;var c;var h=null;var p;var d,v;var m;var g;var y;var b;var w;var E;var S,x;var T,N;var C;var k;var L=new Array(0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535);var A=new Array(3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0);var O=new Array(0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99);var M=new Array(1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577);var _=new Array(0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13);var D=new Array(16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15);if(!t.compressions["DEFLATE"]){t.compressions["DEFLATE"]={magic:"\b\0",uncompress:$}}else{t.compressions["DEFLATE"].uncompress=$}})();var r=new t(e);var i=r.file(/.+/);var s={};i.forEach(function(e){if(e.name.slice(-7).toLowerCase()==="geojson"){s[e.name]=e.asText()}else{s[e.name]=e.asArrayBuffer()}});return s}